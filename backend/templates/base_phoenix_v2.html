<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}DCPlant - Dental Case Management{% endblock %}</title>
    
    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom Phoenix v2 CSS -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/phoenix-v2.css' %}">
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <div class="phoenix-main-wrapper">
        <!-- Vertical Navigation -->
        <nav class="phoenix-nav-vertical" id="navbarVertical">
            <!-- Logo -->
            <div class="phoenix-logo">
                <div class="phoenix-logo-icon">P</div>
                <span class="phoenix-logo-text">phoenix</span>
            </div>
            
            <!-- Navigation Content -->
            <div class="phoenix-nav-content">
                <!-- Home -->
                <div class="phoenix-nav-section">
                    <div class="phoenix-nav-item">
                        <a href="{% url 'dashboard:home' %}" class="phoenix-nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <path d="M3 10L10 3L17 10V17H13V13H7V17H3V10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span class="phoenix-nav-text">Home</span>
                        </a>
                    </div>
                </div>
                
                <!-- Apps Section -->
                <div class="phoenix-nav-section">
                    <div class="phoenix-nav-label">APPS</div>
                    
                    <!-- E-commerce -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <path d="M4 7H16L15 14H5L4 7Z" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M4 7L3 3H1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <circle cx="7" cy="17" r="1" stroke="currentColor" stroke-width="1.5"/>
                                <circle cx="13" cy="17" r="1" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            <span class="phoenix-nav-text">E commerce</span>
                        </a>
                    </div>
                    
                    <!-- CRM -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <rect x="3" y="4" width="14" height="12" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M7 8H13M7 11H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            <span class="phoenix-nav-text">CRM</span>
                        </a>
                    </div>
                    
                    <!-- Case Management (Active) -->
                    <div class="phoenix-nav-item phoenix-nav-dropdown show">
                        <a href="#" class="phoenix-nav-link phoenix-nav-dropdown-toggle active">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <rect x="3" y="3" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="11" y="3" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="3" y="11" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="11" y="11" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            <span class="phoenix-nav-text">Case management</span>
                        </a>
                        <div class="phoenix-nav-dropdown-menu">
                            <a href="{% url 'cases:case_create' %}" class="phoenix-nav-dropdown-item">Create new</a>
                            <a href="{% url 'cases:case_list' %}" class="phoenix-nav-dropdown-item active">Case list view</a>
                            <a href="#" class="phoenix-nav-dropdown-item">Case card view</a>
                            <a href="#" class="phoenix-nav-dropdown-item">Case board view</a>
                            <a href="#" class="phoenix-nav-dropdown-item">Todo list</a>
                            <a href="#" class="phoenix-nav-dropdown-item">Case details</a>
                        </div>
                    </div>
                    
                    <!-- Travel Agency -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <path d="M10 2L3 8V18H7V14H13V18H17V8L10 2Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                            </svg>
                            <span class="phoenix-nav-text">Travel agency</span>
                        </a>
                    </div>
                    
                    <!-- Stock -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <path d="M3 13L7 9L11 11L17 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M13 5H17V9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span class="phoenix-nav-text">Stock</span>
                            <span class="phoenix-nav-badge">NEW</span>
                        </a>
                    </div>
                    
                    <!-- Chat -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <path d="M17 3H3V13H6V16L10 13H17V3Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                            </svg>
                            <span class="phoenix-nav-text">Chat</span>
                        </a>
                    </div>
                    
                    <!-- Email -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <rect x="2" y="4" width="16" height="12" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M2 6L10 11L18 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            <span class="phoenix-nav-text">Email</span>
                        </a>
                    </div>
                    
                    <!-- Events -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <rect x="3" y="4" width="14" height="13" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M7 2V6M13 2V6M3 8H17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            <span class="phoenix-nav-text">Events</span>
                        </a>
                    </div>
                    
                    <!-- Kanban -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <rect x="3" y="3" width="4" height="14" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="8" y="3" width="4" height="10" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="13" y="3" width="4" height="7" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            <span class="phoenix-nav-text">Kanban</span>
                        </a>
                    </div>
                    
                    <!-- Gantt Chart -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <rect x="3" y="4" width="6" height="3" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="7" y="9" width="8" height="3" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="5" y="14" width="10" height="3" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            <span class="phoenix-nav-text">Gantt chart</span>
                            <span class="phoenix-nav-badge">NEW</span>
                        </a>
                    </div>
                    
                    <!-- Social -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <circle cx="7" cy="10" r="2" stroke="currentColor" stroke-width="1.5"/>
                                <circle cx="13" cy="7" r="2" stroke="currentColor" stroke-width="1.5"/>
                                <circle cx="13" cy="13" r="2" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M9 10H11M11 8V12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            <span class="phoenix-nav-text">Social</span>
                        </a>
                    </div>
                    
                    <!-- Gallery -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                <circle cx="7.5" cy="7.5" r="1.5" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M3 13L7 9L10 12L13 9L17 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span class="phoenix-nav-text">Gallery</span>
                        </a>
                    </div>
                    
                    <!-- File Manager -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <path d="M3 7V17H17V5H10L8 3H3V7Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                            </svg>
                            <span class="phoenix-nav-text">File manager</span>
                        </a>
                    </div>
                    
                    <!-- Calendar -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <rect x="3" y="4" width="14" height="13" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M7 2V6M13 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <rect x="6" y="10" width="2" height="2" fill="currentColor"/>
                                <rect x="9" y="10" width="2" height="2" fill="currentColor"/>
                                <rect x="12" y="10" width="2" height="2" fill="currentColor"/>
                            </svg>
                            <span class="phoenix-nav-text">Calendar</span>
                        </a>
                    </div>
                </div>
                
                <!-- Pages Section -->
                <div class="phoenix-nav-section">
                    <div class="phoenix-nav-label">PAGES</div>
                    
                    <!-- Starter -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <rect x="4" y="3" width="12" height="14" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M8 7H12M8 10H12M8 13H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            <span class="phoenix-nav-text">Starter</span>
                        </a>
                    </div>
                    
                    <!-- Faq -->
                    <div class="phoenix-nav-item">
                        <a href="#" class="phoenix-nav-link">
                            <svg class="phoenix-nav-icon" viewBox="0 0 20 20" fill="none">
                                <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M8 8C8 6.9 8.9 6 10 6C11.1 6 12 6.9 12 8C12 9.1 11.1 10 10 10V12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <circle cx="10" cy="14" r="0.5" fill="currentColor"/>
                            </svg>
                            <span class="phoenix-nav-text">Faq</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Collapsed View Button -->
            <div class="px-3 py-2 border-top">
                <button class="btn btn-sm btn-link text-muted p-0" onclick="toggleSidebar()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M13 6L9 10L13 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span class="ms-2">Collapsed View</span>
                </button>
            </div>
        </nav>
        
        <!-- Main Content Area -->
        <div class="phoenix-content">
            <!-- Top Navbar -->
            <nav class="phoenix-navbar-top">
                <!-- Search -->
                <div class="phoenix-search-box">
                    <svg class="phoenix-search-icon" viewBox="0 0 16 16" fill="none">
                        <circle cx="7" cy="7" r="5" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M11 11L14 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <input type="text" class="phoenix-search-input" placeholder="Search...">
                </div>
                
                <!-- Right Icons -->
                <div class="phoenix-nav-icons">
                    <!-- Theme Toggle -->
                    <div class="phoenix-nav-icon-item">
                        <svg viewBox="0 0 20 20" fill="none" width="20" height="20">
                            <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="1.5"/>
                            <path d="M10 2V4M10 16V18M2 10H4M16 10H18M4.5 4.5L6 6M14 14L15.5 15.5M4.5 15.5L6 14M14 6L15.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                    </div>
                    
                    <!-- Notifications -->
                    <div class="phoenix-nav-icon-item">
                        <svg viewBox="0 0 20 20" fill="none" width="20" height="20">
                            <path d="M10 3C7 3 5 5 5 8C5 11 4 12 3 13H17C16 12 15 11 15 8C15 5 13 3 10 3Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                            <path d="M8 16C8 17 9 18 10 18C11 18 12 17 12 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="notification-dot"></span>
                    </div>
                    
                    <!-- Grid -->
                    <div class="phoenix-nav-icon-item">
                        <svg viewBox="0 0 20 20" fill="none" width="20" height="20">
                            <rect x="3" y="3" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                            <rect x="11" y="3" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                            <rect x="3" y="11" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                            <rect x="11" y="11" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                        </svg>
                    </div>
                    
                    <!-- User Avatar -->
                    <img src="https://ui-avatars.com/api/?name={{ user.get_full_name|default:user.username }}&background=3874ff&color=fff" 
                         alt="User" class="phoenix-user-avatar">
                </div>
            </nav>
            
            <!-- Page Content -->
            <div class="phoenix-content-inner">
                {% block content %}{% endblock %}
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('navbarVertical');
            sidebar.classList.toggle('collapsed');
            localStorage.setItem('sidebarCollapsed', sidebar.classList.contains('collapsed'));
        }
        
        // Restore sidebar state
        document.addEventListener('DOMContentLoaded', function() {
            const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
            if (isCollapsed) {
                document.getElementById('navbarVertical').classList.add('collapsed');
            }
        });
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>